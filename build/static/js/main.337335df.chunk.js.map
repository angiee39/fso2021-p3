{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObect","post","id","delete","put","Filter","searchName","handleSearchName","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addName","onSubmit","type","Persons","persons","deleteName","namesToShow","filter","person","name","toLowerCase","includes","map","number","onClick","App","useState","setPersons","setNewName","setNewNumber","setSearchName","display","message","setMessage","useEffect","personService","then","response","data","editNumber","obj","concat","catch","error","setTimeout","Notification","className","e","target","preventDefault","find","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.337335df.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObect => {\r\n    return axios.post(baseUrl, newObect)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst editPerson = (id, newObect) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObect)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, editPerson }\r\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\n\nconst Filter = ({searchName, handleSearchName}) => {\n  return (\n    <div>\n      filter name <input value={searchName} onChange={handleSearchName} />\n    </div>\n  )\n}\n\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addName}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input \n        value={newName} \n        onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number: <input \n        value={newNumber} \n        onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst Persons = ({persons, searchName, deleteName}) => {\n  const namesToShow = searchName === ''\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\n  \n  return (\n    <div>\n      {namesToShow.map((person) => \n        <div key={person.name}>\n          {person.name} {person.number} <button onClick={() => deleteName(person.id)}>delete</button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ message, setMessage ] = useState({type: '', display: null})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addName = (e) => {\n    e.preventDefault()\n    const name = persons.map((person) => person.name)\n    const match = name.find((name) => name === newName)\n    if (match === newName) {\n      if (window.confirm(`${newName} id already added to the phonebook, replace the old number with the new one?`)) {\n        const id = persons.find(person => person.name === newName).id\n        editNumber(id)\n        setMessage({type: 'success', display: `${newName} edited`})\n          setTimeout(() => {\n            setMessage({type: '', display: null})\n          }, 4000)\n      } else return\n    }\n    else {\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n        id: newName\n      }\n      \n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setMessage({type: 'success', display: `${newName} added`})\n          setTimeout(() => {\n            setMessage({type: '', display: null})\n          }, 4000)\n        })\n\n    }\n  }\n\n  const deleteName = (id) => {\n    if (window.confirm(`delete ${persons.find(person => person.id === id).name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n    else return\n  }\n\n  const editNumber = (id) => {\n    const newObject = {\n      name: newName,\n      number: newNumber,\n      id: newName\n    }\n    personService\n      .editPerson(id, newObject)\n      .then(response => {\n        const obj = persons.filter(person => person.id !== id).concat(response.data)\n        setPersons(obj)\n      })\n      .catch(error => {\n        setMessage({type: 'error', display: `${newName} has already been removed`})\n        setTimeout(() => {\n          setMessage({type: '', display: null})\n        }, 4000)\n      })\n  }\n\n  const Notification = ({message}) => {\n    if (message.display === null) {\n      return null\n    } else if (message.type === 'error') {\n      return (\n        <div className='error'>\n          {message.display}\n        </div>\n      )\n    }\n    return (\n      <div className='success'>\n        {message.display}\n      </div>\n    )\n  }\n\n\n  const handleNameChange = (e) => setNewName(e.target.value)\n  const handleNumberChange = (e) => setNewNumber(e.target.value)\n  const handleSearchName = (e) => setSearchName(e.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Filter searchName={searchName} handleSearchName={handleSearchName} />\n      <h2>add a new</h2>\n      <PersonForm \n        newName={newName} \n        newNumber={newNumber} \n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addName={addName}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} \n        searchName={searchName} deleteName={deleteName}\n      />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}